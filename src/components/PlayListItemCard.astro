---
import { type Playlist } from "@/lib/data";

interface Props {
	playlist: Playlist;
}

const { playlist } = Astro.props;
const { albumId, artists, color, cover, id, title } = playlist;

const artistString = artists.join(", ");
---

<a
	href={`/playlist/${id}`}
	class="playlist-item transition-all duration-300 flex relative p-2 overflow-hidden items-center gap-5 rounded-md bg-[#181818] shadow-lg hover:shadow-xl hover:bg-[#282828] flex-col w-40"
	transition:name={`playlist ${id} box`}
>
	<picture class="aspect-square w-full h-auto flex-none">
		<img
			src={cover}
			alt={`Cover by ${title} and ${artistString}`}
			class="object-cover size-full rounded-md"
			transition:name=`playlist ${id} image`
		/>
	</picture>
	<div class="flex flex-auto flex-col px-2 truncate">
		<h4
			class="text-zinc-100 text-sm truncate"
			transition:name=`playlist ${playlist?.id} title`
		>
			{title}
		</h4>
		<span
			class="text-zinc-400 text-xs truncate"
			transition:name=`playlist ${playlist?.id} artists`>{artistString}</span
		>
	</div>
</a>
